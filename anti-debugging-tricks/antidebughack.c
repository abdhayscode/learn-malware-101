/*
 * Learn Malware Dev with Uncle Hay
 * antidebughack.c - Anti-debugging PoC
 * This code main purpose is to detect debugger againsts itself
 * Programmer : unclehay  
*/

#include <stdio.h>
#include <stdlib.h>
#include <windows.h>

// Helper function to check if a debugger is running
bool DebuggerRunCheck() {
    return IsDebuggerPresent() == TRUE;
}

// Main Hack Function
void hack() {
    MessageBox(NULL, "Kab00m!!!", "==..Hayck 101..==", MB_OK);
}

int main() {
    // Check if any debugger is running
    if (DebuggerRunCheck()){
        MessageBox(NULL, "Debugger Detected. Abort mission.", "**== Hayck 101 ==**", MB_OK);
        printf("Debugger detected ... abort mission.\n");
        return 1; // Exit if a debugger is detected
    }

    // Main hack routines
    hack();

    return 0;
}